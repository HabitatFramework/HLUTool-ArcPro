<controls:ProWindow
    x:Class="HLU.UI.View.WindowQueryOSMM"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="clr-namespace:ArcGIS.Desktop.Framework.Controls;assembly=ArcGIS.Desktop.Framework"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:hlu="clr-namespace:HLU.UI.UserControls;assembly="
    xmlns:local="clr-namespace:HLU.UI.ViewModel"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:tkit="http://schemas.microsoft.com/wpf/2008/toolkit"
    Title="{Binding WindowTitle}"
    Width="650"
    Height="450"
    d:DataContext="{d:DesignInstance Type=local:ViewModelWindowQueryOSMM}"
    Icon="..\..\Images\HLUTool16.png"
    ResizeMode="CanResizeWithGrip"
    ShowInTaskbar="False"
    Style="{DynamicResource ProWindowStyle}"
    WindowStartupLocation="CenterOwner"
    mc:Ignorable="d">

    <controls:ProWindow.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Dictionary\NullableValueConverterDictionary.xaml" />
                <ResourceDictionary Source="Dictionary\ErrorMessageConverterDictionary.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </controls:ProWindow.Resources>

    <DockPanel
        Margin="4,4,4,4"
        HorizontalAlignment="Stretch"
        VerticalAlignment="Stretch"
        Cursor="{Binding WindowCursor}">

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="4" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <AdornerDecorator>
                <Grid VerticalAlignment="Stretch">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" MinHeight="250" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <!--  GroupBoxOSMMUpdatesSummary  -->
                    <GroupBox
                        Name="GroupBoxOSMMUpdatesSummary"
                        Grid.Row="0"
                        Header="OSMM Updates Summary">

                        <AdornerDecorator>
                            <ScrollViewer Margin="-4,0,-4,0" VerticalScrollBarVisibility="Auto">

                                <Grid x:Name="GridOSMMUpdatesSummary" Margin="0">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                    </Grid.RowDefinitions>

                                    <DataGrid
                                        x:Name="DataGridOSMMUpdatesSummary"
                                        Grid.Row="0"
                                        Grid.Column="0"
                                        Margin="0,0,0,0"
                                        Padding="0,0"
                                        HorizontalAlignment="Right"
                                        VerticalContentAlignment="Center"
                                        AutoGenerateColumns="False"
                                        BorderBrush="Black"
                                        BorderThickness="1"
                                        CanUserAddRows="False"
                                        CanUserDeleteRows="False"
                                        CanUserReorderColumns="False"
                                        CanUserResizeColumns="False"
                                        CanUserSortColumns="True"
                                        HeadersVisibility="Column"
                                        IsEnabled="True"
                                        IsReadOnly="True"
                                        ItemsSource="{Binding OSMMUpdatesSummary, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"
                                        RowDetailsVisibilityMode="Visible"
                                        RowHeaderWidth="0"
                                        RowHeight="24"
                                        ScrollViewer.CanContentScroll="True"
                                        ScrollViewer.VerticalScrollBarVisibility="Auto"
                                        SelectionChanged="OSMMUpdates_SelectionChanged"
                                        SelectionMode="Single">
                                        <!--  SelectedItem="{Binding OSMMUpdatesSelected, Mode=TwoWay}"  -->
                                        <!--  SelectionChanged="{Binding OSMMUpdates_SelectionChanged}"  -->
                                        <DataGrid.Columns>
                                            <DataGridTextColumn
                                                Width="65"
                                                Binding="{Binding Process}"
                                                Header="Process"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="65"
                                                Binding="{Binding Change}"
                                                Header="Change"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="65"
                                                Binding="{Binding Spatial}"
                                                Header="Spatial"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="67"
                                                Binding="{Binding Rejected}"
                                                Header="Rejected"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="67"
                                                Binding="{Binding Ignored}"
                                                Header="Ignored"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="67"
                                                Binding="{Binding Proposed}"
                                                Header="Proposed"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="67"
                                                Binding="{Binding Pending}"
                                                Header="Pending"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="67"
                                                Binding="{Binding Applied}"
                                                Header="Applied"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="70"
                                                Binding="{Binding Total}"
                                                Header="Total"
                                                IsReadOnly="True"
                                                TextBlock.FontWeight="Bold" />
                                        </DataGrid.Columns>
                                    </DataGrid>
                                    <DataGrid
                                        x:Name="DataGridOSMMUpdatesTotal"
                                        Grid.Row="1"
                                        Grid.Column="0"
                                        Margin="0,0,0,0"
                                        Padding="0,0"
                                        HorizontalAlignment="Right"
                                        VerticalContentAlignment="Center"
                                        AutoGenerateColumns="False"
                                        BorderBrush="Black"
                                        BorderThickness="1"
                                        CanUserAddRows="False"
                                        CanUserDeleteRows="False"
                                        CanUserReorderColumns="False"
                                        CanUserResizeColumns="False"
                                        CanUserSortColumns="False"
                                        ColumnHeaderHeight="0"
                                        FontWeight="Bold"
                                        HeadersVisibility="Column"
                                        IsEnabled="True"
                                        IsReadOnly="True"
                                        ItemsSource="{Binding OSMMUpdatesSummaryTotal, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"
                                        RowDetailsVisibilityMode="Collapsed"
                                        RowHeaderWidth="0"
                                        RowHeight="26"
                                        ScrollViewer.CanContentScroll="True"
                                        ScrollViewer.VerticalScrollBarVisibility="Auto"
                                        SelectionMode="Single">
                                        <DataGrid.Columns>
                                            <DataGridTextColumn
                                                Width="0"
                                                Binding="{Binding Process}"
                                                Header="Process"
                                                IsReadOnly="True"
                                                Visibility="Hidden" />
                                            <DataGridTextColumn
                                                Width="0"
                                                Binding="{Binding Change}"
                                                Header="Process"
                                                IsReadOnly="True"
                                                Visibility="Hidden" />
                                            <DataGridTextColumn
                                                Width="195"
                                                Binding="{Binding Spatial}"
                                                Header="Spatial"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="67"
                                                Binding="{Binding Rejected}"
                                                Header="Rejected"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="67"
                                                Binding="{Binding Ignored}"
                                                Header="Ignored"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="67"
                                                Binding="{Binding Proposed}"
                                                Header="Proposed"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="67"
                                                Binding="{Binding Pending}"
                                                Header="Pending"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="67"
                                                Binding="{Binding Applied}"
                                                Header="Applied"
                                                IsReadOnly="True" />
                                            <DataGridTextColumn
                                                Width="70"
                                                Binding="{Binding Total}"
                                                Header="Total"
                                                IsReadOnly="True" />
                                        </DataGrid.Columns>
                                    </DataGrid>
                                </Grid>
                            </ScrollViewer>
                        </AdornerDecorator>
                    </GroupBox>

                    <!--  GroupBoxOSMMUpdate  -->
                    <GroupBox
                        Name="GroupBoxOSMMUpdates"
                        Grid.Row="1"
                        Header="Filter by OSMM Updates">

                        <Grid x:Name="GridOSMMUpdates" Margin="2,8,2,8">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <Grid Grid.Row="0" Margin="0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" MinWidth="48" />
                                    <ColumnDefinition Width="*" MinWidth="10" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" MinWidth="10" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" MinWidth="10" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" MinWidth="90" />
                                </Grid.ColumnDefinitions>
                                <Label
                                    x:Name="LabelOSMMUpdatesProcess"
                                    Grid.Column="0"
                                    Margin="0,0,0,8"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Center"
                                    Content="Process" />
                                <ComboBox
                                    x:Name="ComboBoxOSMMUpdatesProcess"
                                    Grid.Column="1"
                                    Margin="8,2,4,8"
                                    VerticalAlignment="Center"
                                    DisplayMemberPath="code"
                                    IsEditable="False"
                                    IsEnabled="True"
                                    IsReadOnly="False"
                                    ItemsSource="{Binding IncidOSMMUpdatesProcessFlags, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    SelectedValue="{Binding IncidOSMMUpdatesProcessFlag, ValidatesOnDataErrors=True}"
                                    SelectedValuePath="code"
                                    Tag="{Binding RelativeSource={RelativeSource Self}, Path=(Validation.Errors).CurrentItem.ErrorContent, Converter={StaticResource errorMessageConverter}}"
                                    ToolTip="{Binding RelativeSource={RelativeSource Self}, Path=(Validation.Errors).CurrentItem.ErrorContent}"
                                    ToolTipService.ShowOnDisabled="True" />
                                <Label
                                    x:Name="LabelOSMMUpdatesChange"
                                    Grid.Column="2"
                                    Margin="0,0,0,8"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Center"
                                    Content="Change" />
                                <ComboBox
                                    x:Name="ComboBoxOSMMUpdatesChange"
                                    Grid.Column="3"
                                    Margin="8,2,4,8"
                                    VerticalAlignment="Center"
                                    DisplayMemberPath="code"
                                    IsEditable="False"
                                    IsEnabled="True"
                                    IsReadOnly="False"
                                    ItemsSource="{Binding IncidOSMMUpdatesChangeFlags, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    SelectedValue="{Binding IncidOSMMUpdatesChangeFlag, ValidatesOnDataErrors=True}"
                                    SelectedValuePath="code"
                                    Tag="{Binding RelativeSource={RelativeSource Self}, Path=(Validation.Errors).CurrentItem.ErrorContent, Converter={StaticResource errorMessageConverter}}"
                                    ToolTip="{Binding RelativeSource={RelativeSource Self}, Path=(Validation.Errors).CurrentItem.ErrorContent}"
                                    ToolTipService.ShowOnDisabled="True" />
                                <Label
                                    x:Name="LabelOSMMUpdatesSpatial"
                                    Grid.Column="4"
                                    Margin="0,0,0,8"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Center"
                                    Content="Spatial" />
                                <ComboBox
                                    x:Name="ComboBoxOSMMUpdatesSpatial"
                                    Grid.Column="5"
                                    Margin="8,2,4,8"
                                    VerticalAlignment="Center"
                                    DisplayMemberPath="code"
                                    IsEditable="False"
                                    IsEnabled="True"
                                    IsReadOnly="False"
                                    ItemsSource="{Binding IncidOSMMUpdatesSpatialFlags, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    SelectedValue="{Binding IncidOSMMUpdatesSpatialFlag, ValidatesOnDataErrors=True}"
                                    SelectedValuePath="code"
                                    Tag="{Binding RelativeSource={RelativeSource Self}, Path=(Validation.Errors).CurrentItem.ErrorContent, Converter={StaticResource errorMessageConverter}}"
                                    ToolTip="{Binding RelativeSource={RelativeSource Self}, Path=(Validation.Errors).CurrentItem.ErrorContent}"
                                    ToolTipService.ShowOnDisabled="True" />
                                <Label
                                    x:Name="LabelOSMMUpdatesStatus"
                                    Grid.Column="6"
                                    Margin="0,0,0,8"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Center"
                                    Content="Status" />
                                <ComboBox
                                    x:Name="ComboBoxOSMMUpdatesStatus"
                                    Grid.Column="7"
                                    Margin="8,2,4,8"
                                    VerticalAlignment="Center"
                                    IsEditable="False"
                                    IsEnabled="True"
                                    IsReadOnly="False"
                                    ItemsSource="{Binding IncidOSMMUpdatesStatuses, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    SelectedValue="{Binding IncidOSMMUpdatesStatus, ValidatesOnDataErrors=True}"
                                    Tag="{Binding RelativeSource={RelativeSource Self}, Path=(Validation.Errors).CurrentItem.ErrorContent, Converter={StaticResource errorMessageConverter}}"
                                    ToolTip="{Binding RelativeSource={RelativeSource Self}, Path=(Validation.Errors).CurrentItem.ErrorContent}"
                                    ToolTipService.ShowOnDisabled="True" />
                            </Grid>

                            <Grid Grid.Row="1" Margin="0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" MinWidth="48" />
                                    <ColumnDefinition Width="*" MinWidth="10" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" MinWidth="10" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" MinWidth="10" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" MinWidth="10" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" MinWidth="10" />
                                </Grid.ColumnDefinitions>
                                <Label
                                    x:Name="LabelOSMMUpdatesRejectedCount"
                                    Grid.Column="0"
                                    Margin="0,0,0,2"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Center"
                                    Content="Rejected" />
                                <TextBox
                                    x:Name="TextBoxOSMMUpdatesRejectedCount"
                                    Grid.Column="1"
                                    Margin="8,2,4,2"
                                    VerticalAlignment="Center"
                                    IsEnabled="False"
                                    IsReadOnly="True"
                                    Text="{Binding IncidOSMMUpdatesRejectedCount, Mode=OneWay, ValidatesOnDataErrors=False}"
                                    TextAlignment="Left" />
                                <Label
                                    x:Name="LabelOSMMUpdatesIgnoredCount"
                                    Grid.Column="2"
                                    Margin="0,0,0,2"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Center"
                                    Content="Ignored" />
                                <TextBox
                                    x:Name="TextBoxOSMMUpdatesIgnoredCount"
                                    Grid.Column="3"
                                    Margin="8,2,4,2"
                                    VerticalAlignment="Center"
                                    IsEnabled="False"
                                    IsReadOnly="True"
                                    Text="{Binding IncidOSMMUpdatesIgnoredCount, Mode=OneWay, ValidatesOnDataErrors=False}"
                                    TextAlignment="Left" />
                                <Label
                                    x:Name="LabelOSMMUpdatesProposedCount"
                                    Grid.Column="4"
                                    Margin="0,0,0,2"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Center"
                                    Content="Proposed" />
                                <TextBox
                                    x:Name="TextBoxOSMMUpdatesProposedCount"
                                    Grid.Column="5"
                                    Margin="8,2,4,2"
                                    VerticalAlignment="Center"
                                    IsEnabled="False"
                                    IsReadOnly="True"
                                    Text="{Binding IncidOSMMUpdatesProposedCount, Mode=OneWay, ValidatesOnDataErrors=False}"
                                    TextAlignment="Left" />
                                <Label
                                    x:Name="LabelOSMMUpdatesPendingCount"
                                    Grid.Column="6"
                                    Margin="0,0,0,2"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Center"
                                    Content="Pending" />
                                <TextBox
                                    x:Name="TextBoxOSMMUpdatesPendingCount"
                                    Grid.Column="7"
                                    Margin="8,2,4,2"
                                    VerticalAlignment="Center"
                                    IsEnabled="False"
                                    IsReadOnly="True"
                                    Text="{Binding IncidOSMMUpdatesPendingCount, Mode=OneWay, ValidatesOnDataErrors=False}"
                                    TextAlignment="Left" />
                                <Label
                                    x:Name="LabelOSMMUpdatesAppliedCount"
                                    Grid.Column="8"
                                    Margin="0,0,0,2"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Center"
                                    Content="Applied" />
                                <TextBox
                                    x:Name="TextBoxOSMMUpdatesAppliedCount"
                                    Grid.Column="9"
                                    Margin="2,2,4,2"
                                    VerticalAlignment="Center"
                                    IsEnabled="False"
                                    IsReadOnly="True"
                                    Text="{Binding IncidOSMMUpdatesAppliedCount, Mode=OneWay, ValidatesOnDataErrors=False}"
                                    TextAlignment="Left" />
                            </Grid>
                        </Grid>
                    </GroupBox>

                </Grid>
            </AdornerDecorator>

            <Grid
                x:Name="GridOSMMUpdatesFilterButtons"
                Grid.Row="4"
                Margin="4">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="82" />
                    <ColumnDefinition Width="82" />
                    <ColumnDefinition Width="82" />
                </Grid.ColumnDefinitions>

                <Button
                    x:Name="ButtonApplyOSMMUpdatesFilter"
                    Grid.Column="1"
                    Margin="0,0,2,0"
                    Command="{Binding ApplyOSMMFilterCommand}"
                    Content="_Ok"
                    Style="{DynamicResource Esri_Button}" />
                <!--
                    Background="Orange"
                    Foreground="White"
                -->
                <Button
                    x:Name="ButtonResetOSMMUpdatesFilter"
                    Grid.Column="2"
                    Margin="2,0,2,0"
                    Command="{Binding ResetOSMMFilterCommand}"
                    Content="_Reset"
                    Style="{DynamicResource Esri_Button}" />
                <Button
                    x:Name="ButtonCancelOSMMUpdatesFilter"
                    Grid.Column="3"
                    Margin="2,0,0,0"
                    Command="{Binding CancelOSMMFilterCommand}"
                    Content="_Cancel"
                    IsEnabled="True"
                    Style="{DynamicResource Esri_Button}" />
                <!--  Background="Gray"  -->
            </Grid>
        </Grid>
    </DockPanel>
</controls:ProWindow>
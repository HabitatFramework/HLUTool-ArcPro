<UserControl x:Class="HLU.UI.View.InterfaceOptions"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="../Dictionary/MultiEqualityConverterDictionary.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>

    <StackPanel Margin="4">

        <Label Content="Set options for interface"
            HorizontalAlignment="Left"
            FontSize="14"
            FontWeight="Medium" />

        <Expander Header="Interface Options"
            Margin="6,10,0,0"
            IsExpanded="True">

            <Grid
                Margin="12,4,4,2"
                HorizontalAlignment="Left">

                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="0" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="0" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="0" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="20" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <CheckBox IsChecked="{Binding ShowGroupHeaders}"
                    Grid.Row="0"
                    Grid.Column="0"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center" />
                <Label Content="Show Group Headers"
                    Grid.Row="0"
                    Grid.Column="1"
                    HorizontalAlignment="Left" />

                <CheckBox IsChecked="{Binding ShowIHSTab}"
                    Grid.Row="2"
                    Grid.Column="0"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center" />
                <Label Content="Show IHS Tab"
                    Grid.Row="2"
                    Grid.Column="1"
                    HorizontalAlignment="Left" />

                <CheckBox IsChecked="{Binding ShowSourceHabitatGroup}"
                    Grid.Row="4"
                    Grid.Column="0"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center" />
                <Label Content="Show Source Habitat"
                    Grid.Row="4"
                    Grid.Column="1"
                    HorizontalAlignment="Left" />

                <Label Content="Show OSMM Update Attributes"
                    Grid.Row="6"
                    Grid.Column="0"
                    Grid.ColumnSpan="2"
                    HorizontalAlignment="Left" />
                <StackPanel
                    Grid.Row="7"
                    Grid.Column="1"
                    Grid.ColumnSpan="2">
                    <ItemsControl ItemsSource="{Binding ShowOSMMUpdatesOptions}">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <RadioButton Content="{Binding}"
                                    Margin="0,0,0,5"
                                    GroupName="ShowOSMMUpdatesGroup">
                                    <RadioButton.IsChecked>
                                        <MultiBinding
                                            Converter="{StaticResource multiEqualityConverter}"
                                            Mode="TwoWay">
                                            <!-- First binding: ViewModel property that stores the selected option -->
                                            <Binding
                                                Mode="TwoWay"
                                                Path="DataContext.ShowOSMMUpdatesOption"
                                                RelativeSource="{RelativeSource AncestorType=Window}"
                                                ValidatesOnDataErrors="True" />
                                            <!-- Second binding: The value of the current item in the ItemsControl -->
                                            <Binding Path="." />
                                        </MultiBinding>
                                    </RadioButton.IsChecked>
                                </RadioButton>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </StackPanel>

            </Grid>

        </Expander>

        <Expander Header="Interface Preferences"
            Margin="6,10,0,0"
            IsExpanded="True">

            <Grid
                Margin="12,4,4,2"
                HorizontalAlignment="Left">

                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="0" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="0" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="0" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <Grid
                    x:Name="GridPreferredHabitatClass"
                    Grid.Row="0"
                    HorizontalAlignment="Left">

                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" MinWidth="160" />
                        <ColumnDefinition Width="Auto" MinWidth="260" />
                    </Grid.ColumnDefinitions>

                    <Label Content="Preferred Habitat Class"
                        Grid.Column="0"
                        HorizontalAlignment="Left" />

                    <ComboBox ItemsSource="{Binding HabitatClassCodes}"
                        Grid.Column="1"
                        DisplayMemberPath="description"
                        SelectedValue="{Binding PreferredHabitatClass, ValidatesOnDataErrors=True}"
                        SelectedValuePath="code" />
                </Grid>

                <Grid
                    x:Name="GridPreferredSecondaryGroup"
                    Grid.Row="2"
                    HorizontalAlignment="Left">

                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" MinWidth="160" />
                        <ColumnDefinition Width="Auto" MinWidth="140" />
                    </Grid.ColumnDefinitions>

                    <Label Content="Preferred Secondary Group"
                        Grid.Column="0"
                        HorizontalAlignment="Left" />

                    <ComboBox ItemsSource="{Binding SecondaryGroupCodes}"
                        Grid.Column="1"
                        DisplayMemberPath="description"
                        SelectedValue="{Binding PreferredSecondaryGroup, ValidatesOnDataErrors=True}"
                        SelectedValuePath="code" />
                </Grid>

                <Grid
                    x:Name="GridSecondaryTableOrder"
                    Grid.Row="4"
                    HorizontalAlignment="Left">

                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="20" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <Label Content="Secondary Table Order"
                        Grid.Row="0"
                        Grid.Column="0"
                        Grid.ColumnSpan="2"
                        HorizontalAlignment="Left" />

                    <StackPanel
                        Grid.Row="1"
                        Grid.Column="1"
                        Grid.ColumnSpan="2">
                        <ItemsControl ItemsSource="{Binding SecondaryCodeOrderOptions}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <RadioButton Content="{Binding}"
                                        Margin="0,0,0,5"
                                        GroupName="SecondaryCodeOrderGroup">
                                        <RadioButton.IsChecked>
                                            <MultiBinding
                                                Converter="{StaticResource multiEqualityConverter}"
                                                Mode="TwoWay">
                                                <!-- First binding: ViewModel property that stores the selected option -->
                                                <Binding
                                                    Mode="TwoWay"
                                                    Path="DataContext.SecondaryCodeOrder"
                                                    RelativeSource="{RelativeSource AncestorType=UserControl}"
                                                    ValidatesOnDataErrors="True" />
                                                <!-- Second binding: The value of the current item in the ItemsControl -->
                                                <Binding Path="." />
                                            </MultiBinding>
                                        </RadioButton.IsChecked>
                                    </RadioButton>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </Grid>

                <Grid
                    x:Name="GridSecondaryCodeDelimiter"
                    Grid.Row="6"
                    HorizontalAlignment="Left">

                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" MinWidth="160" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <Label Content="Secondary Code Delimiter"
                        Grid.Column="0"
                        HorizontalAlignment="Left" />

                    <TextBox Text="{Binding SecondaryCodeDelimiter, ValidatesOnDataErrors=True, UpdateSourceTrigger=PropertyChanged}"
                        Grid.Column="1"
                        Height="24"
                        MinWidth="30"
                        HorizontalAlignment="Left"
                        TextAlignment="Center" />
                </Grid>
            </Grid>

        </Expander>

    </StackPanel>

</UserControl>
